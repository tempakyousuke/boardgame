# 鉄道ゲーム (仮) - Tetsudo Game

## 概要

このプロジェクトの一部として、`/tetsudo` ルートにオンラインマルチプレイで遊べる「桃太郎電鉄」風のボードゲームを開発します。

## 機能要件

### 1. ロビー画面 (`/tetsudo`)

ユーザーは以下のいずれかのアクションを選択できます。

- **ルームを作成**: 新しいゲームルームを立ち上げます。
- **ルームに参加**: 既存のルームIDを入力して参加します。

### 2. ルーム作成フロー

ルーム作成時、ゲームマスター（作成者）は以下の初期設定を行います。

- **プレイ年数**: ゲームの期間を設定
- **部屋名**: ルームの表示名

**処理の流れ:**

1. 必要項目を入力し「開始」ボタンを押下。
2. ゲームの参加者管理テーブルに、作成者のユーザーIDを「ゲームマスター」として追加。
3. `/tetsudo/{room_id}` へリダイレクト。

### 3. ルーム参加フロー

**処理の流れ:**

1. 「ルームに参加」ボタンからフォームを開く。
2. ルームIDを入力し「参加」ボタンを押下。
3. ゲームの参加者管理テーブルに、ユーザーIDを追加。
4. `/tetsudo/{room_id}` へリダイレクト。

## アクセス制御

- **未参加ユーザーの制限**:
  参加者リストに含まれていないユーザーが `/tetsudo/{room_id}` に直接アクセスした場合、ロビー画面 (`/tetsudo`) へリダイレクトさせます。

## データベース設計指針

- **テーブル命名規則**:
  本ゲームに関連する全てのデータベーステーブルには、プレフィックス `tetsudo_` を付与します。
  - 例: `tetsudo_rooms`, `tetsudo_players` など

## データベースドキュメント

- [tetsudo_rooms](./table_docs/tetsudo_rooms.md)
- [tetsudo_players](./table_docs/tetsudo_players.md)
- [tetsudo_squares](./table_docs/tetsudo_squares.md)
- [tetsudo_paths](./table_docs/tetsudo_paths.md)
